{"version":3,"sources":["components/epm-rest/metadata.js"],"names":["manager","require","module","exports","req","res","next","rname","params","repository","uid","get","progress","info","fail","err","done","repo","findOne","pkg","json"],"mappings":"AAAA;;AAEA,IAAIA,UAAUC,QAAQ,gBAAR,CAAd;;AAEAC,OAAOC,OAAP,GAAkB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAwB;AACxC,MAAIC,QAAQH,IAAII,MAAJ,CAAWC,UAAvB;AACA,MAAIC,MAAMN,IAAII,MAAJ,CAAWE,GAArB;;AAEAV,UACGW,GADH,CACOJ,KADP,EAEGK,QAFH,CAEY,UAASC,IAAT,EAAc,CAEvB,CAJH,EAKGC,IALH,CAKQ,UAASC,GAAT,EAAa;AACjBT,SAAKS,GAAL;AACD,GAPH,EAQGC,IARH,CAQQ,UAASC,IAAT,EAAc;;AAElBA,SACCC,OADD,CACS,EAACR,KAAKA,GAAN,EADT,EACqB,UAASK,GAAT,EAAcI,GAAd,EAAkB;AACrC,UAAIJ,GAAJ,EAAS;AACP,eAAOT,KAAKS,GAAL,CAAP;AACD;AACDV,UAAIe,IAAJ,CAASD,GAAT;AACD,KAND;AAOD,GAjBH;AAmBD,CAvBD","file":"metadata.js","sourcesContent":["'use strict';\n\nvar manager = require('../epm-manager');\n\nmodule.exports =  function(req, res, next){\n  var rname = req.params.repository;\n  var uid = req.params.uid;\n  \n  manager\n    .get(rname)\n    .progress(function(info){\n\n    })\n    .fail(function(err){\n      next(err);\n    })\n    .done(function(repo){\n\n      repo\n      .findOne({uid: uid}, function(err, pkg){\n        if (err) {\n          return next(err);\n        }\n        res.json(pkg);\n      });\n    });\n\n};"]}