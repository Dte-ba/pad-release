{"version":3,"sources":["components/epm-rest/index.js"],"names":["express","require","manager","routes","query","asset","metadata","content","stats","down","module","exports","app","Router","cacheContent","post","queryp","get"],"mappings":"AAAA;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;;AAEA,IAAIC,UAAUD,QAAQ,gBAAR,CAAd;;AAEA,IAAIE,SAAS,EAAb;;AAEAA,OAAOC,KAAP,GAAeH,QAAQ,YAAR,CAAf;AACAE,OAAOE,KAAP,GAAeJ,QAAQ,YAAR,CAAf;AACAE,OAAOG,QAAP,GAAkBL,QAAQ,eAAR,CAAlB;AACAE,OAAOI,OAAP,GAAiBN,QAAQ,cAAR,CAAjB;AACAE,OAAOK,KAAP,GAAeP,QAAQ,YAAR,CAAf;AACAE,OAAOM,IAAP,GAAcR,QAAQ,WAAR,CAAd;;AAEAS,OAAOC,OAAP,GAAiB,YAAU;;AAEzB,MAAIC,MAAMZ,QAAQa,MAAR,EAAV;AACAD,MAAIE,YAAJ,GAAmB,EAAnB;;AAEAF,MAAIG,IAAJ,CAAS,oBAAT,EAA+BZ,OAAOC,KAAP,CAAaA,KAA5C;;AAEAQ,MAAIG,IAAJ,CAAS,qBAAT,EAAgCZ,OAAOC,KAAP,CAAaY,MAA7C;;AAEAJ,MAAIK,GAAJ,CAAQ,qCAAR,EAA+Cd,OAAOE,KAAtD;;AAEAO,MAAIK,GAAJ,CAAQ,4BAAR,EAAsCd,OAAOG,QAA7C;;AAEAM,MAAIK,GAAJ,CAAQ,sBAAR,EAAgCd,OAAOM,IAAvC;;AAEAG,MAAIK,GAAJ,CAAQ,oBAAR,EAA8Bd,OAAOK,KAArC;;AAEA;AACA;AACAL,SAAOI,OAAP,CAAeK,GAAf;;AAEA,SAAOA,GAAP;AACD,CAtBD","file":"index.js","sourcesContent":["'use strict';\n\nvar express = require('express');\n\nvar manager = require('../epm-manager');\n\nvar routes = {};\n\nroutes.query = require('./query.js');\nroutes.asset = require('./asset.js');\nroutes.metadata = require('./metadata.js');\nroutes.content = require('./content.js');\nroutes.stats = require('./stats.js');\nroutes.down = require('./down.js');\n\nmodule.exports = function(){\n\n  var app = express.Router();\n  app.cacheContent = {};\n\n  app.post('/query/:repository', routes.query.query);\n\n  app.post('/queryp/:repository', routes.query.queryp);\n\n  app.get('/asset/:repository/:uid/:type/:name', routes.asset);\n\n  app.get('/metadata/:repository/:uid', routes.metadata);\n\n  app.get('/dl/:repository/:uid', routes.down);\n\n  app.get('/stats/:repository', routes.stats);\n\n  // /content/:repository/:uid\n  // /files/:repository/:uid\n  routes.content(app)\n\n  return app;\n};"]}