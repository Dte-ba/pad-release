{"version":3,"sources":["routes.js"],"names":["errors","require","path","module","exports","app","use","mode","process","env","PAD_MODE","route","get","req","res","json","version","kernel","sendFile","resolve"],"mappings":"AAAA;;;;AAIA;;AAEA,IAAIA,SAASC,QAAQ,qBAAR,CAAb;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;;AAEAE,OAAOC,OAAP,GAAiB,UAASC,GAAT,EAAc;;AAE7B;AACAA,MAAIC,GAAJ,CAAQ,aAAR,EAAuBL,QAAQ,cAAR,CAAvB;;AAEA,MAAIM,OAAO,QAAX;AACA,MAAIC,QAAQC,GAAR,CAAYC,QAAhB,EAA0B;AACxBH,WAAOC,QAAQC,GAAR,CAAYC,QAAnB;AACD;AACD;AACAL,MACGM,KADH,CACS,WADT,EAEGC,GAFH,CAEO,UAASC,GAAT,EAAcC,GAAd,EAAkB;AACrBA,QAAIC,IAAJ,CAAS,EAAEC,SAASX,IAAIW,OAAf,EAAwBC,QAAQZ,IAAIY,MAApC,EAA4CV,MAAMA,IAAlD,EAAT;AACD,GAJH;;AAMA;AACAF,MAAIM,KAAJ,CAAU,0DAAV,EACEC,GADF,CACMZ,OAAO,GAAP,CADN;;AAGA;AACAK,MAAIM,KAAJ,CAAU,IAAV,EACGC,GADH,CACO,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACtBA,QAAII,QAAJ,CAAahB,KAAKiB,OAAL,CAAad,IAAIO,GAAJ,CAAQ,SAAR,IAAqB,aAAlC,CAAb;AACD,GAHH;AAID,CAzBD","file":"routes.js","sourcesContent":["/**\n * Main application routes\n */\n\n'use strict';\n\nvar errors = require('./components/errors');\nvar path = require('path');\n\nmodule.exports = function(app) {\n\n  // Insert routes below\n  app.use('/api/design', require('./api/design'));\n\n  var mode = 'server';\n  if (process.env.PAD_MODE) {\n    mode = process.env.PAD_MODE;\n  }\n  // add application information\n  app\n    .route('/api/info')\n    .get(function(req, res){\n      res.json({ version: app.version, kernel: app.kernel, mode: mode });\n    });\n  \n  // All undefined asset or api routes should return a 404\n  app.route('/:url(api|auth|components|app|bower_components|assets)/*')\n   .get(errors[404]);\n\n  // All other routes should redirect to the index.html\n  app.route('/*')\n    .get(function(req, res) {\n      res.sendFile(path.resolve(app.get('appPath') + '/index.html'));\n    });\n};\n"],"sourceRoot":"/source/"}